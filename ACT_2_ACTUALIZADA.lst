0001   0000             ;RAMIREZ RODRIGUEZ ALDO
0002   0000             ;PROGRAMA PARA CALCULAR LA RAÍZ CUADRADA DE UN NÚMERO BCD
0003   0000             ;EN EL REGISTRO B Y ALMACENAR EL RESULTADO EN C
0004   0000             
0005   0000             ;CODE SEGEMENT
0006   0000             		.ORG 0000H 	;MARCAMOS EL ORIGEN DEL PROGRAMA
0007   0000             	
0008   0000             ;DEFINE STACK
0009   0000 06 19       		LD B, 25	;ASIGNAMOS UN VALOR EN B
0010   0002 0E 00       		LD C,0		;INICIAMOS C EN 0 PUESTO QU AHÍ SE CARGARÁ LA RAÍZ CUADRADA
0011   0004 78          		LD A,B		;CARGAMOS EL VALOR BCD EN EL ACUMULADOR A
0012   0005 FE 00       		CP 0		;HACEMOS COMPARACIONES DE EL VALOR YA OBTENIDO CON 0 
0013   0007 28 1C       		JR Z, FIND
0014   0009 FE 01       		CP 1		;HACEMOS COMPARACIONES DE EL VALOR YA OBTENIDO CON 1
0015   000B 28 18       		JR Z, FIND
0016   000D             
0017   000D 26 01       		LD H,1		;INICIAMOS EL REGISTRO H EN 1 PARA ALMACENAR EL CUADRADO ACTUAL
0018   000F 2E 01       		LD L,1		;LO USAMOS PARA ITERAR EL ALGORITMO
0019   0011             	
0020   0011 78          SQRT:		LD A,B		;CARGAMOS EL VALOR BCD EN EL ACUMULADOR A
0021   0012 BC          		CP H		;COMPARAMOS A CON H
0022   0013 38 13       		JR C, MAYOR	;SI A ES MENOR QUE H SALTA A LA ETIQUETA MAYOR
0023   0015 2C          		INC L		;y SE INCREMENTA EL VALOR DE L EN 1
0024   0016 16 00       		LD D,0		;INICIALIZAMOS LOS REGISTROS D Y E EN 0
0025   0018 1E 00       		LD E,0
0026   001A             		
0027   001A 7B          MULT:		LD A,E		;CARGAMOS EL VALOR DE E EN EL ACUMULADOR A
0028   001B 85          		ADD A,L		;SUMAMOS EL VALOR DE L A A
0029   001C 5F          		LD E,A		;GUARDA EL RESULTADO DE LA SUMA EN EL REGISTRO E
0030   001D 14          		INC D		;INCREMENTANDO D EN 1
0031   001E 7D          		LD A,L		;CARGAMOS EL VALOR DE L EN EL ACUMULADOR A
0032   001F BA          		CP D		;Y LO COMPARAMOS CON D
0033   0020 20 F8       		JR NZ, MULT	;SI A NO ES IGUAL A D ENTONCES REGRESA AL BUCLE MULT
0034   0022 63          		LD H,E		;GUARDA EL VALOR E EN REGISTRO H
0035   0023 18 EC       		JR SQRT		;Y SALTA DE VUELTA AL BUCLE SQRT
0036   0025             
0037   0025 4F          FIND:		LD C,A		;EN CASO DE ENCONTRAR LA RAÍZ, SE GUARDA EL VALOR EN EL REGISTRO C
0038   0026 18 04       		JR CONV_BCD	;Y SE PASA A LA CONVERSIÓN A BCD
0039   0028             
0040   0028 2D          MAYOR:		DEC L		;EN CASO DE ENCONTRAR UN CUIADRADO MAYOR QUE EL NÚMERO ORIGINAL, ENTONCES DECREMENTA L
0041   0029 4D          		LD C,L		;GUARDA EL VALOR DE LA RAÍZ EN C
0042   002A 18 00       		JR CONV_BCD	;PASA A LA CONVERSIÓN EN BCD
0043   002C             
0044   002C 78          CONV_BCD:	LD A,B		;CARGA EL NÚMERO ORIGINAL EN EL ACUMULADOR A
0045   002D 1E 00       		LD E,0		;INICIALIZA E A 0
0046   002F             		
0047   002F FE 0A       LOOP:		CP 10		;COMPARA A CON 10
0048   0031 38 05       		JR C, FINISH	;SI A ES MENOR QUE 10 ENTONCES SALTA A FINISH
0049   0033 D6 0A       		SUB 10		;RESTA 10 DE A
0050   0035 1C          		INC E		; E INCREMENTA E
0051   0036 18 F7       		JR LOOP		;SALTANDO DE VUELTA AL BUCLE
0052   0038             		
0053   0038 CB 23       FINISH:		SLA E		;DESPLAZAMOS EL VALOR A LA IZQUIERDA POR 4 BITS
0054   003A CB 23       		SLA E
0055   003C CB 23       		SLA E
0056   003E CB 23       		SLA E
0057   0040 B3          		OR E		;COMBINANDO EL VALOR EN E CON EL DE A
0058   0041 47          		LD B,A		;Y GUARDANDO EL VALOR RESULTANTE EN B
0059   0042 76          		HALT		;DETENIÉNDOSE EL PROGRAMA
0060   0043             
0061   0043             		.END
0062   0043             
0063   0043             
0064   0043             
Number of errors = 0
